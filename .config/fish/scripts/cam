#!/usr/bin/env bash

# List all video devices
devices=($(ls /dev/video*))

# Show devices with numbers
for i in "${!devices[@]}"; do
	echo "$i) ${devices[$i]}"
done

# Ask for a number
read -r -p "Select a video device by number: " number

# If a valid number was selected, open the device with mpv
if [[ "$number" =~ ^[0-9]+$ ]] && [ "$number" -ge 0 ] && [ "$number" -lt "${#devices[@]}" ]; then
	selected_device="${devices[$number]}"
	mpv "$selected_device"
fi
